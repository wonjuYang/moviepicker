<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
   <meta name="viewport" content="width=device-width, initial-scale=1"/>
   <title>moviepicker_rec</title>
   <link rel="stylesheet" href="css/bootstrap.css"/>
   <link rel="stylesheet" href="css/animate.css"/>

   <style>
		body{
			font-family: "Nanum Barun Gothic",sans-serif;
		}
		header{
			width: 100%;
            display: flex;
            justify-content: space-between;
            padding:30px 40px;
            background-color: black;
        	position: fixed;
        	z-index: 100;
        }
        .glyphicon-eye-open{
         	color: white;
         	margin: 6px 6px 0px 0px;
         	font-size: 30px;
        }
        .logo img{
			width: 200px;
			position: absolute;
        }
        .menu{
            background-color: transparent;
            bottom:auto;
            left:auto;
            opacity:1;
            pointer-events: all;
            right:auto;
        }

        .menu ul{
            list-style-type:none;
            left:auto;
            max-width: none;
            display: flex;
            top:auto;
            transform: none;
            width:auto;
            margin: 10px 35px 0px 0px;
        }

        .menu li {
            display: inline-block;
            margin-left:30px;
            font-size: 18px;
            font-weight:bold;
        }
	    .menu a{
            text-decoration:none;
            color:white;
        }
        .menu a:hover{
            text-decoration:none;
            color:#d9534f;
        }

   		body{
   			background-color: black;
   		}
   		.rec_title{
   			color:white;
   			width:100%;
   			height:250px;
   			padding-top:100px;
   			display:flex;
   			flex-flow:column wrap;
   			align-items:center;
   		}

   		.rec_title h5{
			margin-bottom:30px;
   		}

   		.line{
    		height: 3px;
   		 	width: 55px;
    		display: inline-block;
    		background: #d9534f;
    		margin: 0 auto;
    		text-align: center;
		}


		#quiz{
			text-align: center;
			width:1000px;
			margin: 0 auto;
			
		}

		.que1{
		}

		.que2{
			display:none;
		}


		.que3{
			display:none;
		}


		.que4{
			display:none;
		}



		.count_wrapper{
			width:100%;
			display: flex;
			align-items:center;
			justify-content: space-around;
		}
		.count{
			width:300px;
			display: flex;
			align-items:center;
			justify-content: space-around;
		}

		.question{
			color:white;
			margin-bottom: 50px;
   			margin-top: 30px;
		}


		.count_off{
    		display: inline-block;
    		border-radius: 20px;
    		border: 1px solid #bdbdbd;
   			text-align: center;
    		line-height: 25px;
    		width: 25px;
    		height: 25px;
   		 	font-size: 12px;
   		 	font-weight: 200;
   		 	color:white;
   		 	background-color: white;
   		 	vertical-align: 5px;
		}

		.count_line {
   			display: inline-block;
   			height: 2px;
    		width: 45px;
   			background-color: #e7e7e7;
    		margin: 0px 10px 0px 10px;
		}

		.answer_box{
    		width: 100%;
    		height: 80px;
    		padding: 7px;
    		border-radius: 40px;
    		background: #E8E8E7;
    		position: relative;
    		text-align: center;
    		font-size: 1.1em;
    		font-weight: 700;
    		color: #5d5d5d;
    		display: flex;
    		align-items:center;
			justify-content: space-around;

		}

		.answer_wrapper{
			border-radius: 40px;
			height: 100%;
			width:25%;
			position: relative;
    		float: left;
    		height: 66px;
    		padding: 0 10px;
		}

		.que2 .answer_wrapper{
			width:50%;
		}

		.que3 .answer_wrapper{
			width:50%;
		}

		.que4 .answer_wrapper{
			width:50%;
		}

		.answer{
			display: flex;
    		flex-direction: column;
   		 	justify-content: center;
   			align-items: center;
    		height: 100%;
   		 	font-size: 18px;
   		 	color:black;
		}


		
		.answer_wrapper:hover{
			background-color: #d9534f;
			cursor:pointer;
		}

		.answer:hover{
			color:white;
		}


		.answer_wrapper_select{
			background-color: #d9534f;
		}

		.answer_select{
			color:white;
		}

		.next_btn{
			margin-top:60px;
		}

		.result{
			display: none;
		}

		.result_title{
			margin-top: 20px;
			margin-bottom: 20px;
			display:flex;
			justify-content: center;
		}

		.result h3{
			color:white;

		}

		.result_container{
			height:500px;
			display:flex;
			justify-content:center;
			align-content: center;
		}


		.result_part{
			width:260px;
			height:400px;
			background-color:gray;
			margin:10px;
			overflow:hidden;
		}

		.fadeIn{
			animation-duration: 1.8s; 
		}

		.c2 .fadeIn{
			animation-delay:0.3s;
		}

		.c3 .fadeIn{
			animation-delay:0.6s;
		}

		.result_part img{
			width:100%;
			height:100%;
		}

		.result_part img:hover{
			cursor:pointer;
		}





		

   		

   </style>
</head>
<body>
<header>
		<a class="logo" href="index.html"><span class="glyphicon glyphicon-eye-open"></span><img src="img/logo.png" alt="MoviePicker"></a>
		<div class="menu">
			<ul>
				<li><a href="index.html">홈</a></li>
				<li><a href="recommend.html">테스트</a></li>
				<li><a href="list.html">장르</a></li>
			</ul>
		</div>
	</header>
<div class="rec_title">
	<h2>영화 취향 테스트</h2>
	<h5>당신의 영화를 찾아드립니다.</h5>
	<span class="line"></span>
</div>
<div id="quiz">
	<div class="count_wrapper">
		<div class="count">
			<span id="count1" class="count_off"><span class="glyphicon glyphicon-ok"></span></span>
			<span id="line1" class="count_line"></span>
			<span id="count2" class="count_off"><span class="glyphicon glyphicon-ok"></span></span>
			<span id="line2" class="count_line"></span>
			<span id="count3" class="count_off"><span class="glyphicon glyphicon-ok"></span></span>
			<span id="line3" class="count_line"></span>
			<span id="count4" class="count_off"><span class="glyphicon glyphicon-ok"></span></span>
		</div>
	</div>
	<div class="que1">
		<div class="question">
			<h3>누구와 함께 영화를 자주 보나요?</h3>
		</div>
		<div class="answer_box">
			<div id="que1_1a" class="answer_wrapper">
				<div id="que1_1aa" class="answer">
					자녀
				</div>
			</div>
			<div id="que1_1b" class="answer_wrapper">
				<div id="que1_1bb" class="answer">
					부모님
				</div>
			</div>
			<div id="que1_1c" class="answer_wrapper">
				<div id="que1_1cc" class="answer">
					친구/연인
				</div>
			</div>
			<div id="que1_1d" class="answer_wrapper">
				<div id="que1_1dd" class="answer">
					혼자
				</div>
			</div>
		</div>	
		<button class="btn btn-danger next_btn btn1" disabled="disabled">다음</button>
	</div>
	<div class="que2">
		<div class="question">
			<h3>좋아하는 영화의 분위기는 어떤가요?</h3>
		</div>
		<div class="answer_box">
			<div id="que2_1a" class="answer_wrapper">
				<div id="que2_1aa" class="answer">
					동적, 박진감, 스릴
				</div>
			</div>
			<div id="que2_1b" class="answer_wrapper">
				<div id="que2_1bb" class="answer">
					정적, 잔잔함, 평화
				</div>
			</div>
		</div>	
		<button class="btn btn-danger next_btn btn2" disabled="disabled">다음</button>
	</div>
	<div class="que3">
		<div class="question">
			<h3>좋아하는 영화의 성격은 어떤가요?</h3>
		</div>
		<div class="answer_box">
			<div id="que3_1a" class="answer_wrapper">
				<div id="que3_1aa" class="answer">
					대중성,상업적
				</div>
			</div>
			<div id="que3_1b" class="answer_wrapper">
				<div id="que3_1bb" class="answer">
					 예술성,비상업적
				</div>
			</div>
		</div>	
		<button class="btn btn-danger next_btn btn3" disabled="disabled">다음</button>	
	</div>
	<div class="que4">
		<div class="question">
			<h3>엔딩이 어땠으면 좋겠나요?</h3>
		</div>
		<div class="answer_box">
			<div id="que4_1a" class="answer_wrapper">
				<div id="que4_1aa" class="answer">
					HAPPY
				</div>
			</div>
			<div id="que4_1b" class="answer_wrapper">
				<div id="que4_1bb" class="answer">
					SAD
				</div>
			</div>
		</div>	
		<button class="btn btn-danger next_btn btn4" disabled="disabled">결과 보기</button>	
	</div>
</div>




<div class="result">
	<div class="result_title">
		<h3>당신의 영화 취향</h3>
	</div>
	<div class="result_container">
		<div class="result_part_wrapper c1">
			<div class="result_part animated fadeIn part1">
				<div class="more_text" style="display:none;">
					더 보기
				</div>
			</div>
		</div>
		<div class="result_part_wrapper c2">
			<div class="result_part animated fadeIn part2">
				<div class="more_text" style="display:none;">
					더 보기
				</div>
			</div>
		</div>
		<div class="result_part_wrapper c3">
			<div class="result_part animated fadeIn part3">
				<div class="more_text" style="display:none;">
					더 보기
				</div>
			</div>
		</div>
		


	</div>
</div>

<script src="js/jquery-3.3.1.js"></script>
<script src="js/bootstrap.js"></script>
<script>



	var v_act_am={
		grade:15,
		mood:1,
		cha:1,
		ending:2,
		src:"movie_img/act_am.jpg",
		anchor:"d_act_am.html",
		score:0

	}

	var v_act_man={
		grade:19,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/act_man.jpg",
		anchor:"d_act_man.html",
		score:0
	}

	var v_act_ninja={
		grade:19,
		mood:1,
		cha:1,
		ending:2,
		src:"movie_img/act_ninja.png",
		anchor:"d_act_ninja.html",
		score:0
	}

	var v_act_taken={
		grade:15,
		mood:1,
		cha:1,
		ending:null,
		src:"movie_img/act_taken.png",
		anchor:"d_act_taken.html",
		score:0
	}
	var v_ani_name={
		grade:12,
		mood:2,
		cha:2,
		ending:null,
		src:"movie_img/ani_name.png",
		anchor:"d_ani_name.html",
		score:0
	}
	var v_ani_time={
		grade:0,
		mood:1,
		cha:1,
		ending:2,
		src:"movie_img/ani_time.png",
		anchor:"d_ani_time.html",
		score:0
	}
	var v_ani_voice={
		grade:0,
		mood:null,
		cha:2,
		ending:null,
		src:"movie_img/ani_voice.png",
		score:0
	}
	var v_ani_zoo={
		grade:0,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/ani_wolf.png",
		score:0
	}
	var v_co_bro={
		grade:12,
		mood:1,
		cha:1,
		ending:2,
		src:"movie_img/co_bro.png",
		score:0
	}
	var v_co_lucky={
		grade:15,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/co_lucky.png",
		score:0
	}
	var v_co_padding={
		grade:0,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/co_padding.png",
		score:0
	}
	var v_co_she={
		grade:15,
		mood:2,
		cha:1,
		ending:1,
		src:"movie_img/co_she.jpg",
		score:0
	}
	
	var v_dk_fl={
		grade:15,
		mood:2,
		cha:2,
		ending:2,
		src:"movie_img/dk_fl.png",
		score:0
	}
	var v_dk_gea={
		grade:15,
		mood:2,
		cha:2,
		ending:1,
		src:"movie_img/dk_gea.png",
		score:0
	}
	var v_dk_han={
		grade:19,
		mood:1,
		cha:2,
		ending:2,
		src:"movie_img/dk_han.png",
		score:0
	}
	var v_dk_we={
		grade:15,
		mood:2,
		cha:2,
		ending:null,
		src:"movie_img/dk_we.png",
		score:0
	}
	var v_rm_about={
		grade:15,
		mood:2,
		cha:1,
		ending:1,
		src:"movie_img/rm_about.png",
		score:0
	}
	var v_rm_beaty={
		grade:12,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/rm_beaty.png",
		score:0
	}
	var v_rm_cl={
		grade:12,
		mood:2,
		cha:2,
		ending:2,
		src:"movie_img/rm_cl.png",
		score:0
	}
	var v_rm_girl={
		grade:15,
		mood:2,
		cha:2,
		ending:1,
		src:"movie_img/rm_girl.png",
		score:0
	}
	var v_sf_aben={
		grade:12,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/sf_aben.png",
		score:0
	}
	var v_sf_hung={
		grade:15,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/sf_hung.png",
		score:0
	}
	var v_sf_inter={
		grade:12,
		mood:1,
		cha:1,
		ending:1,
		src:"movie_img/sf_inter.png",
		score:0
	}
	var v_sf_sin={
		grade:12,
		mood:1,
		cha:1,
		ending:2,
		src:"movie_img/sf_sin.png",
		score:0
	}

	var movies_list=[v_act_am, v_act_man, v_act_ninja, v_act_taken, v_co_bro, v_co_lucky, v_co_she, v_co_padding, v_sf_aben, v_sf_inter, v_sf_hung, v_sf_sin, v_rm_about, v_rm_girl, v_rm_cl, v_rm_beaty, v_dk_we, v_dk_han, v_dk_gea,v_dk_fl, v_ani_zoo, v_ani_voice, v_ani_time, v_ani_name];






	var que1_1=0;
	var que1_2=0;
	var que1_3=0;
	var que1_4=0;
	var que2_1=0;
	var que2_2=0;
	var que3_1=0;
	var que3_2=0;
	var que4_1=0;
	var que4_2=0;


	$(".rec_title").addClass('animated fadeIn');
	$("#quiz").addClass('animated fadeIn');


	
	$(".answer_wrapper").click(function(){
		$(this).addClass("answer_wrapper_select");
	})



	$(".answer").click(function(){
		$(this).addClass("answer_select");
	})



	$("#que1_1a").click(function(){
		$("#que1_1b").removeClass("answer_wrapper_select");
		$("#que1_1c").removeClass("answer_wrapper_select");
		$("#que1_1d").removeClass("answer_wrapper_select");
		$("#que1_1bb").removeClass("answer_select");
		$("#que1_1cc").removeClass("answer_select");
		$("#que1_1dd").removeClass("answer_select");

		que1_1=1;
		que1_2=0;
		que1_3=0;
		que1_4=0;


		if(que1_1==1||que1_2==1||que1_3==1||que1_4==1){
        	$(".btn1").attr("disabled", false);
    	}
	});

	$("#que1_1b").click(function(){
		$("#que1_1a").removeClass("answer_wrapper_select");
		$("#que1_1c").removeClass("answer_wrapper_select");
		$("#que1_1d").removeClass("answer_wrapper_select");
		$("#que1_1aa").removeClass("answer_select");
		$("#que1_1cc").removeClass("answer_select");
		$("#que1_1dd").removeClass("answer_select");

		que1_1=0;
		que1_2=1;
		que1_3=0;
		que1_4=0;

		if(que1_1==1||que1_2==1||que1_3==1||que1_4==1){
       		$(".btn1").attr("disabled", false);
    	}
	});

	$("#que1_1c").click(function(){
		$("#que1_1a").removeClass("answer_wrapper_select");
		$("#que1_1b").removeClass("answer_wrapper_select");
		$("#que1_1d").removeClass("answer_wrapper_select");
		$("#que1_1aa").removeClass("answer_select");
		$("#que1_1bb").removeClass("answer_select");
		$("#que1_1dd").removeClass("answer_select");

		que1_1=0;
		que1_2=0;
		que1_3=1;
		que1_4=0;

		if(que1_1==1||que1_2==1||que1_3==1||que1_4==1){
        	$(".btn1").attr("disabled", false);
    	}
	});
	$("#que1_1d").click(function(){
		$("#que1_1a").removeClass("answer_wrapper_select");
		$("#que1_1b").removeClass("answer_wrapper_select");
		$("#que1_1c").removeClass("answer_wrapper_select");
		$("#que1_1aa").removeClass("answer_select");
		$("#que1_1bb").removeClass("answer_select");
		$("#que1_1cc").removeClass("answer_select");

		que1_1=0;
		que1_2=0;
		que1_3=0;
		que1_4=1;

		if(que1_1==1||que1_2==1||que1_3==1||que1_4==1){
        	$(".btn1").attr("disabled", false);
   		}
	});

	

	$(".btn1").click(function(){


		if(que1_1==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].grade==19){
					movies_list[i].score--;
					movies_list[i].score--;
					movies_list[i].score--;
					movies_list[i].score--;
					movies_list[i].score--;

				}
			}
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].grade==0){
					movies_list[i].score++;
				}
			}
			for(var i=20; i<24; i++){
				movies_list[i].score++;
				}

		}

		if(que1_2==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].grade==15||movies_list[i].grade==12){
					movies_list[i].score++;
				}
			}
		}








		$(".que1").css("display", "none");
		$(".que2").css("display", "block").addClass('animated fadeIn');
		

		$("#count1").css("background-color", "#d9534f").css("color", "#000");
		$("#line1").css("background-color", "#d9534f");


	});



	$("#que2_1a").click(function(){
		$("#que2_1b").removeClass("answer_wrapper_select");
		$("#que2_1bb").removeClass("answer_select");


		que2_1=1;
		que2_2=0;

		if(que2_1==1||que2_2==1){
        	$(".btn2").attr("disabled", false);
   		}

	});

	$("#que2_1b").click(function(){
		$("#que2_1a").removeClass("answer_wrapper_select");
		$("#que2_1aa").removeClass("answer_select");


		que2_1=0;
		que2_2=1;

		if(que2_1==1||que2_2==1){
        	$(".btn2").attr("disabled", false);
   		}

	});


	$(".btn2").click(function(){


		if(que2_1==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].mood==1){
					movies_list[i].score++;
				}
			}

			for(var i=0; i<4; i++){
				movies_list[i].score++;
				movies_list[i].score++;
			}
		}

		if(que2_2==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].mood==2){
					movies_list[i].score++;
				}
			}
		}


		$(".que2").css("display", "none");
		$(".que3").css("display", "block").addClass('animated fadeIn');;

		$("#count2").css("background-color", "#d9534f").css("color", "#000");
		$("#line2").css("background-color", "#d9534f");
	});

	$("#que3_1a").click(function(){
		$("#que3_1b").removeClass("answer_wrapper_select");
		$("#que3_1bb").removeClass("answer_select");


		que3_1=1;
		que3_2=0;

		if(que3_1==1||que3_2==1){
        	$(".btn3").attr("disabled", false);
   		}

	});

	$("#que3_1b").click(function(){
		$("#que3_1a").removeClass("answer_wrapper_select");
		$("#que3_1aa").removeClass("answer_select");


		que3_1=0;
		que3_2=1;

		if(que3_1==1||que3_2==1){
        	$(".btn3").attr("disabled", false);
   		}

	});


	$(".btn3").click(function(){

		if(que3_1==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].cha==1){
					movies_list[i].score++;
				}
			}
		}

		if(que3_2==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].cha==2){
					movies_list[i].score++;
				}
			}

			for(var i=16; i<20; i++){
				movies_list[i].score++;
			}
		}


		$(".que3").css("display", "none");
		$(".que4").css("display", "block").addClass('animated fadeIn');;

		$("#count3").css("background-color", "#d9534f").css("color", "#000");
		$("#line3").css("background-color", "#d9534f");
	});


	$("#que4_1a").click(function(){
		$("#que4_1b").removeClass("answer_wrapper_select");
		$("#que4_1bb").removeClass("answer_select");


		que4_1=1;
		que4_2=0;

		if(que4_1==1||que4_2==1){
        	$(".btn4").attr("disabled", false);
   		}

	});

	$("#que4_1b").click(function(){
		$("#que4_1a").removeClass("answer_wrapper_select");
		$("#que4_1aa").removeClass("answer_select");


		que4_1=0;
		que4_2=1;

		if(que4_1==1||que4_2==1){
        	$(".btn4").attr("disabled", false);
   		}

	});


	$(".btn4").click(function(){

		if(que4_1==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].ending==1){
					movies_list[i].score++;
				}
			}
		}

		if(que4_2==1){
			for(var i=0; i<movies_list.length; i++){
				if(movies_list[i].ending==2){
					movies_list[i].score++;
				}
			}
		}


		

		movies_list.sort(function (f, s) { return s.score-f.score; });


		$(".que4").css("display", "none");

		$("<img>")
		.attr("src", movies_list[1].src)
		.css("left", "50%")
		.css("top", "50%")
		.attr("title", "1위")
		.appendTo(".part1");

		$(".part1").click(function(){
			console.log("clicked")
			$("<a>")
			.attr("href", movies_list[1].anchor)
			.prepend(".part1");
		});

		$("<img>")
		.attr("src", movies_list[2].src)
		.css("left", "50%")
		.css("top", "50%")
		.attr("title", "2위")
		.appendTo(".part2");

		$(".part2").click(function(){
			$("<a>")
			.attr("href", movies_list[2].anchor)
			.prepend(".part2");
		});

		$("<img>")
		.attr("src", movies_list[3].src)
		.css("left", "50%")
		.css("top", "50%")
		.attr("title", "3위")
		.appendTo(".part3");

		$(".part2").click(function(){
			$("<a>")
			
			.attr("href", movies_list[3].anchor)
			.prepend(this);
		});


		$(".result").css("display", "block").addClass('animated fadeIn');;

		$(".count_wrapper").css("display", "none");



	});





</script>   
</body>
</html>